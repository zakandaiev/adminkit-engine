"use strict";function fadeOut(e){let a=1<arguments.length&&void 0!==arguments[1]&&arguments[1],s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!e)return!1;e.style.opacity=1,function t(){(e.style.opacity-=.1)<0?(a?e.style.display="none":e.remove(),s instanceof String&&window[s]?window[s]():s instanceof Function&&s()):requestAnimationFrame(t)}()}function smoothScroll(t){t&&t.scrollIntoView({behavior:"smooth"})}function smoothScrollTop(){window.scrollTo({behavior:"smooth",top:0})}console.log("%cMade by Zakandaiev","background:#222e3c;color:#fff;padding:10px;font-weight:bold;"),document.querySelectorAll("table").forEach(t=>{t.parentElement.classList.contains("table-responsive")||(t.outerHTML='<div class="table-responsive">'+t.outerHTML+"</div>")}),document.querySelectorAll("a").forEach(t=>{if(t.hasAttribute("data-bs-toggle")||!t.hasAttribute("href"))return!1;t.addEventListener("click",t=>{const e=t.currentTarget.getAttribute("href");if("#"===e)t.preventDefault(),smoothScrollToTop();else if("#"===e.charAt(0)||"/"===e.charAt(0)&&"#"===e.charAt(1)){if(!t.currentTarget.hash)return!1;var a=document.querySelector(t.currentTarget.hash);a&&(t.preventDefault(),smoothScroll(a))}})}),document.querySelectorAll("a").forEach(t=>{t.hasAttribute("target")&&"_blank"===t.getAttribute("target")&&t.setAttribute("rel","noopener noreferrer nofollow")}),document.querySelectorAll("a").forEach(t=>{t.hasAttribute("href")&&t.href.startsWith("tel:")&&(t.href="tel:"+t.href.replaceAll(/[^\d+]/g,""))});const tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')),tooltipList=tooltipTriggerList.map(function(t){return new bootstrap.Tooltip(t)});document.querySelectorAll(".spinner-action").forEach(t=>{SETTING.loader&&t.insertAdjacentHTML("beforeend",SETTING.loader)}),window.onload=()=>{const t=document.querySelectorAll("img");t.forEach(t=>{t.complete&&void 0!==t.naturalWidth&&t.naturalWidth<=0&&(t.src=SETTING.image_placeholder)})};class Form{constructor(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.node=t,this.options=e,this.loader=e.loader||null,this.action=this.node.action,this.method=this.node.method||"POST",this.data_confirm=this.node.getAttribute("data-confirm"),this.data_reset=!!this.node.hasAttribute("data-reset"),this.data_class=this.node.getAttribute("data-class"),this.data_redirect=this.node.getAttribute("data-redirect"),this.data_message=this.node.getAttribute("data-message"),this.action&&this.initialize()}initialize(){this.loader&&this.node.insertAdjacentHTML("beforeend",this.loader),this.node.addEventListener("submit",t=>{if(t.preventDefault(),!this.confirmation())return!1;this.disableForm(),fetch(this.action,{method:this.method,body:this.getFormData()}).then(t=>t.json()).then(t=>{var e;"success"===t.status?(this.successRedirect(t),this.successResetForm(),SETTING.toast(t.status,null!=(e=this.data_message)?e:t.message)):SETTING.toast(t.status,this.data_message||t.message)}).catch(t=>{SETTING.toast("error",t)}).finally(()=>{this.enableForm()})})}confirmation(){let t=!0;return t=this.data_confirm?confirm(this.data_confirm):t}getFormData(){let e=new FormData(this.node);return this.options.data&&this.options.data.forEach(t=>{t.key&&e.set(t.key,t.value||null)}),e}disableForm(){return this.node.setAttribute("disabled","disabled"),this.node.classList.add("submit"),this.node.querySelector('[type="submit"]').disabled=!0,this.data_class&&this.node.classList.add(this.data_class),!0}enableForm(){return this.node.removeAttribute("disabled","disabled"),this.node.classList.remove("submit"),this.node.querySelector('[type="submit"]').disabled=!1,this.data_class&&this.node.classList.remove(this.data_class),!0}successRedirect(t){return this.data_redirect&&("this"===this.data_redirect?document.location.reload():window.location.href=decodeURI(this.data_redirect).replaceAll(/({\w+})/g,null==t?void 0:t.message)),!1}successResetForm(){return!!this.data_reset&&(this.node.reset(),!0)}}document.querySelectorAll("form").forEach(t=>{new Form(t,{loader:SETTING.loader,data:[{key:SETTING.csrf.key,value:SETTING.csrf.token}]})});class DataAction{constructor(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.node=t,this.options=e,this.data_action=this.node.getAttribute("data-action"),this.data_event=this.node.hasAttribute("data-event")?this.node.getAttribute("data-event"):"click",this.data_method=this.node.hasAttribute("data-method")?this.node.getAttribute("data-method"):"POST",this.data_confirm=this.node.getAttribute("data-confirm"),this.data_fields=this.node.getAttribute("data-fields"),this.data_form=this.node.getAttribute("data-form"),this.data_form_reset=this.node.getAttribute("data-form-reset"),this.data_class=this.node.getAttribute("data-class"),this.data_class_target=this.node.getAttribute("data-class-target"),this.data_redirect=this.node.getAttribute("data-redirect"),this.data_counter=this.node.getAttribute("data-counter"),this.data_counter_plus=!!this.node.hasAttribute("data-counter-plus"),this.data_delete=this.node.getAttribute("data-delete"),this.data_message=this.node.getAttribute("data-message"),this.data_action&&this.initialize()}initialize(){this.node.addEventListener(this.data_event,t=>{if(t.preventDefault(),!this.confirmation())return!1;this.disableNodes(),fetch(this.data_action,{method:this.data_method,body:this.getFormData()}).then(t=>t.json()).then(t=>{var e;"success"===t.status?(this.successRedirect(t),this.successCounter(),this.successResetTargetForm(),this.successDeleteNodes(),SETTING.toast(t.status,null!=(e=this.data_message)?e:t.message)):SETTING.toast(t.status,this.data_message||t.message)}).catch(t=>{SETTING.toast("error",t)}).finally(()=>{this.enableNodes()})})}confirmation(){let t=!0;return t=this.data_confirm?confirm(this.data_confirm):t}getFormData(){let e=new FormData,t=(this.data_form&&(e=new FormData(document.querySelector(this.data_form))),[]);return this.data_fields&&(t=t.concat(JSON.parse(this.data_fields))),(t=this.options.data?t.concat(this.options.data):t).forEach(t=>{t.key&&e.set(t.key,t.value||null)}),e}disableNodes(){return this.node.setAttribute("disabled","disabled"),this.node.classList.add("submit"),this.data_class&&this.data_class_target?document.querySelectorAll(this.data_class_target).forEach(t=>{t.classList.add(this.data_class)}):this.data_class&&this.node.classList.add(this.data_class),!0}enableNodes(){return this.node.removeAttribute("disabled","disabled"),this.node.classList.remove("submit"),this.data_class&&this.data_class_target?document.querySelectorAll(this.data_class_target).forEach(t=>{t.classList.remove(this.data_class)}):this.data_class&&this.node.classList.remove(this.data_class),!0}successRedirect(t){return this.data_redirect&&("this"===this.data_redirect?document.location.reload():window.location.href=decodeURI(this.data_redirect).replaceAll(/({\w+})/g,null==t?void 0:t.message)),!1}successCounter(){return!!this.data_counter&&(document.querySelectorAll(this.data_counter).forEach(t=>{var e=parseInt(t.textContent);t.textContent=this.data_counter_plus?e+1:e-1}),!0)}successResetTargetForm(){return!!this.data_form_reset&&(document.querySelectorAll(this.data_form_reset).forEach(t=>{t.reset()}),!0)}successDeleteNodes(){var t;return!!this.data_delete&&("this"===this.data_delete?fadeOut(this.node):"trow"===this.data_delete?(t=this.node.closest("tr"))&&fadeOut(t):document.querySelectorAll(this.data_delete).forEach(t=>{fadeOut(t)}),!0)}}document.querySelectorAll("[data-action]").forEach(t=>{new DataAction(t,{data:[{key:SETTING.csrf.key,value:SETTING.csrf.token}]})});class DataBehabior{constructor(t){this.node=t,this.data_behavior=this.node.getAttribute("data-behavior"),this.data_event=this.node.hasAttribute("data-event")?this.node.getAttribute("data-event"):"change",this.data_hide=this.node.getAttribute("data-hide"),this.data_show=this.node.getAttribute("data-show"),this.data_target=this.node.getAttribute("data-target"),this.data_behavior&&this.initialize()}initialize(){this.visibilityHide(),this.visibilityShow(),this.toLower(),this.toUpper(),this.cyrToLat(),this.slug(),this.node.addEventListener(this.data_event,()=>{this.visibilityHide(),this.visibilityShow(),this.toLower(),this.toUpper(),this.cyrToLat(),this.slug()})}visibilityHide(){if("visibility"!==this.data_behavior)return!1;let t=this.data_hide;return"checkbox"!==this.node.type||this.node.checked||(t?t+=","+this.data_show:t=this.data_show),(t="radio"!==this.node.type||this.node.checked?t:null)&&t.split(",").forEach(t=>{const e=document.querySelector('[name="'+t+'"]');if(!e)return!1;const a=e.parentElement;(a&&a.classList.contains("form-group")?a:e).classList.add("hidden")}),!0}visibilityShow(){if("visibility"!==this.data_behavior)return!1;let t=this.data_show;return"checkbox"!==this.node.type||this.node.checked||(t=null),(t="radio"!==this.node.type||this.node.checked?t:null)&&t.split(",").forEach(t=>{const e=document.querySelector('[name="'+t+'"]');if(!e)return!1;const a=e.parentElement;(a&&a.classList.contains("form-group")?a:e).classList.remove("hidden")}),!0}toLower(){return"lowercase"===this.data_behavior&&(this.data_target?this.data_target.split(",").forEach(t=>{const e=document.querySelector("[name="+t+"]");e&&(e.value=this.node.value.toLocaleLowerCase())}):this.node.value=this.node.value.toLocaleLowerCase(),!0)}toUpper(){return"uppercase"===this.data_behavior&&(this.data_target?this.data_target.split(",").forEach(t=>{const e=document.querySelector("[name="+t+"]");e&&(e.value=this.node.value.toLocaleUpperCase())}):this.node.value=this.node.value.toLocaleUpperCase(),!0)}cyrToLat(){return"cyrToLat"===this.data_behavior&&(this.data_target?this.data_target.split(",").forEach(t=>{const e=document.querySelector("[name="+t+"]");e&&(e.value=cyrToLat(this.node.value))}):this.node.value=cyrToLat(this.node.value),!0)}slug(){return!!this.data_behavior.includes("slug")&&(this.data_target?this.data_target.split(",").forEach(t=>{const e=document.querySelector("[name="+t+"]");e&&(e.value=slug(this.node.value,"slug_"===this.data_behavior?"_":null))}):this.node.value=slug(this.node.value,"slug_"===this.data_behavior?"_":null),!0)}}document.querySelectorAll("[data-behavior]").forEach(t=>{new DataBehabior(t)});class ForeignForm{constructor(t){this.is_edit=!1,this.active_row=null,this.uid=this.generateUid(),this.initStore(t),this.initModal(),this.initButtons(),this.initTable(),this.populateTable(),this.updateStore(),this.render()}generateUid(){return"ff-"+Math.random().toString(36).slice(2)}initStore(t){return this.store=t,this.name=this.store.name,this.value=this.store.value,this.store.setAttribute("data-id",this.uid),this.store.setAttribute("type","hidden"),this.store.classList.add("hidden"),!0}initModal(){this.modal=this.store.nextElementSibling,this.inputs=this.modal.querySelectorAll("[name]"),this.inputs.forEach(t=>{t.name=t.name.replace("[]","")}),setTimeout(()=>{this.inputs.forEach(t=>{"file"===t.type&&this.initFileInput(t)})},1e3),this.modal.setAttribute("id",this.uid);var t=new bootstrap.Modal(this.modal);return this.modal.bs=t,this.modal.addEventListener("hidden.bs.modal",()=>this.buttonClick("cancel")),!0}initFileInput(t){return null!=t&&null!=(t=t.pond)&&t.setOptions({instantUpload:!0,allowRevert:!0,server:{process:{url:"/upload/",ondata:t=>(t.set(SETTING.csrf.key,SETTING.csrf.token),t)},revert:{url:"/upload/",ondata:t=>(t.set(SETTING.csrf.key,SETTING.csrf.token),t)}}}),!0}initButtons(){return this.submit=this.modal.querySelector('[type="submit"]'),this.submit.addEventListener("click",t=>this.buttonClick("submit",t)),this.add=document.createElement("span"),this.add.setAttribute("data-bs-toggle","modal"),this.add.setAttribute("data-bs-target","#"+this.uid),this.add.classList.add("badge","bg-primary","cursor-pointer"),this.add.innerHTML=SETTING.icon.add,this.add.addEventListener("click",()=>this.buttonClick("add")),!0}updateButtons(){const t=this.submit.querySelector(".add"),e=this.submit.querySelector(".edit");return this.is_edit?(t&&(t.style.display="none"),e&&(e.style.display="initial")):(t&&(t.style.display="initial"),e&&(e.style.display="none")),!0}initTable(){return this.table=document.createElement("table"),this.thead=document.createElement("thead"),this.tbody=document.createElement("tbody"),this.table.classList.add("table"),this.table.classList.add("table-sm"),this.table.classList.add("foreign-form__table"),this.createThead(),this.tbody.classList.add("sortable"),this.tbody.setAttribute("data-handle",".sortable__handle"),this.tbody.onEnd=()=>this.updateStore(),!0}createThead(){const a=document.createElement("tr"),t=(this.inputs.forEach(t=>{const e=document.createElement("th");e.innerText=t.getAttribute("data-label"),a.appendChild(e)}),document.createElement("th"));return t.classList.add("table-action"),t.appendChild(this.add),a.appendChild(t),this.thead.appendChild(a),!0}populateTable(){if(!this.value)return!1;const t=JSON.parse(this.value);return t.forEach(t=>{this.active_row=this.createRow(),this.updateRow(t),this.tbody.appendChild(this.active_row)}),!0}updateStore(){let a=[];return this.tbody.querySelectorAll("tr").forEach(t=>{let e={};t.querySelectorAll("td").forEach(t=>{if(!t.hasAttribute("data-name"))return!1;e[t.getAttribute("data-name")]=t.getAttribute("data-value")}),a.push(e)}),this.store.value=JSON.stringify(a),!0}render(){return this.table.appendChild(this.thead),this.table.appendChild(this.tbody),this.store.before(this.table),!0}createRow(){const a=document.createElement("tr"),t=(this.inputs.forEach(t=>{const e=document.createElement("td");e.setAttribute("data-name",t.name),e.setAttribute("data-value",""),a.appendChild(e)}),document.createElement("td")),e=(t.classList.add("table-action"),document.createElement("span")),s=document.createElement("span"),i=document.createElement("span");return e.innerHTML=SETTING.icon.sort+" ",e.classList.add("sortable__handle"),s.innerHTML=SETTING.icon.edit+" ",i.innerHTML=SETTING.icon.delete,s.addEventListener("click",()=>this.buttonClick("edit",a)),i.addEventListener("click",()=>this.buttonClick("delete",a)),t.append(e),t.append(s),t.append(i),a.appendChild(t),a}buttonClick(t){let e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;switch(t){case"add":return this.is_edit=!1,this.resetInputs(),this.updateButtons(),!0;case"edit":return this.active_row=e,this.is_edit=!0,this.resetInputs(),this.updateButtons(!0),this.populateInputs(),this.modal.bs.show(),!0;case"delete":return this.is_edit=!1,fadeOut(e,!1,()=>this.updateStore()),!0;case"cancel":return this.is_edit=!1,this.resetInputs(),!0;case"submit":e.preventDefault(),this.is_edit||(this.active_row=this.createRow());var a=this.getInputsValue();return a?(this.updateRow(a),this.is_edit||this.tbody.appendChild(this.active_row),this.updateStore(),this.modal.bs.hide(),!0):!1}}updateRow(a){return!!a&&(this.inputs.forEach(t=>{var e=this.active_row.querySelector(`[data-name="${t.name}"]`);if(!e)return!1;this.setColValue(t,e,a[t.name])}),!0)}setColValue(a,t){let s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=s;switch(a.type){case"file":{i="";let e=[];a.pond&&a.pond.getFiles().forEach(t=>{if([6,8].includes(t.status))return!1;e.push(t.serverId)}),s&&"["===s[0]&&(e=e.concat(JSON.parse(s)));const o=this.generateUid();e.forEach(t=>{const e=t;var t=BASE_URL+"/"+e,a=["jpg","jpeg","png","gif","svg","webp"].includes(null===e||void 0===e?void 0:e.split(".").pop().toLowerCase());i=i+(a?`<a href="${t}" target="_blank" data-fancybox="${o}">${SETTING.icon.image}</a>`:`<a href="${t}" target="_blank">${SETTING.icon.file}</a>`)+" "}),s=JSON.stringify(e);break}case"select-one":var r=null!=(r=null==a||null==(r=a.slim)?void 0:r.selected())?r:null!=(r=s)?r:"",l=a.querySelector('option[value="'+r+'"]');l&&(i=l.text),s=r;break;case"select-multiple":{let t=null!=(r=null==a||null==(l=a.slim)?void 0:l.selected())?r:null!=(l=JSON.parse(s))?l:[],e=[];t.forEach(t=>{t=a.querySelector('option[value="'+t+'"]');t&&e.push(t.text)}),i=e.join(", "),s=JSON.stringify(t);break}case"checkbox":i=a.checked?null!=(r=SETTING.icon.checkbox_true)?r:"+":null!=(l=SETTING.icon.checkbox_false)?l:"-",s=a.checked;break;case"date":i=null==(r=new Date(s))?void 0:r.toLocaleDateString();break;case"datetime-local":i=null==(l=new Date(s))?void 0:l.toLocaleString()}return t.innerHTML=i,t.setAttribute("data-value",null!=(t=s)?t:""),!0}resetInputs(){return this.inputs.forEach(t=>{this.setInputValue(t,null)}),!0}populateInputs(){return this.active_row.querySelectorAll("[data-name]").forEach(e=>{this.inputs.forEach(t=>{t.name===e.getAttribute("data-name")&&this.setInputValue(t,e.getAttribute("data-value"))})}),!0}setInputValue(s){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;switch(s.type){case"file":{let a=[];t&&JSON.parse(t).forEach(t=>{let e={source:t,options:{type:"local",metadata:{}}};pond_input_data.allowImagePreview(s)&&(e.options.metadata.poster=BASE_URL+"/"+t),a.push(e)}),s.pond.setOptions({files:a});break}case"select-one":case"select-multiple":var e;s.selectedIndex=null!=(e=t)?e:0,s.hasAttribute("data-native")||("select-multiple"===s.type&&(t=null!=(e=t=JSON.parse(t))?e:[]),s.slim.set(t));break;case"checkbox":t&&"true"==t?s.checked=!0:s.checked=!1;break;case"textarea":s.classList.contains("wysiwyg")?s.quill.root.innerHTML=t:s.value=t;break;default:s.value=t}return!0}getInputsValue(){let s={},r=!0;return this.inputs.forEach(t=>{var e,a=t.value.replace(/(<([^>]+)>)/gi,"").length;if(t.hasAttribute("data-required")&&a<=0){const i=function(t){for(var e=arguments.length,a=new Array(1<e?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];return a.length?i(t=t.replace(i.token||"%",a.shift()),...a):t};r=!1;a=null!=(a=null==(a=SETTING)||null==(a=a.foreignForm)?void 0:a.required_message)?a:"% is required",a=i(a,null!=(e=t.getAttribute("data-label"))?e:t.name);SETTING.toast("error",a)}s[t.name]=t.value}),r&&s}}document.querySelectorAll('[class*="foreign-form"]').forEach(t=>{t.classList.contains("foreign-form")&&new ForeignForm(t)});const pond_input_data={files:a=>{let s=[];if(a.hasAttribute("data-value")){let t=a.getAttribute("data-value");t&&"[]"!=t&&(t=JSON.parse(t)).forEach(t=>{let e={source:t.value,options:{type:"local",metadata:{}}};pond_input_data.allowImagePreview(a)&&(e.options.metadata.poster=t.poster),s.push(e)})}return s},allowImagePreview:t=>"false"!=t.getAttribute("data-preview"),maxTotalFileSize:t=>t.hasAttribute("data-max-total-size")?t.getAttribute("data-max-total-size"):null,maxFileSize:t=>t.hasAttribute("data-max-size")?t.getAttribute("data-max-size"):null,maxFiles:t=>t.hasAttribute("data-max-files")?parseInt(t.getAttribute("data-max-files")):null,styleItemPanelAspectRatio:t=>t.hasAttribute("data-aspect-ratio")?parseInt(t.getAttribute("data-aspect-ratio")):.5625},file_inputs=document.querySelectorAll('input[type="file"]'),slimselect_data=(file_inputs&&file_inputs.forEach(t=>{const e=FilePond.create(t,{server:{load:"/"},storeAsFile:!0,instantUpload:!1,allowProcess:!1,allowRevert:!1,allowReorder:!0,dropOnPage:!0,dropOnElement:1!=file_inputs.length,files:pond_input_data.files(t),allowImagePreview:pond_input_data.allowImagePreview(t),maxTotalFileSize:pond_input_data.maxTotalFileSize(t),maxFileSize:pond_input_data.maxFileSize(t),maxFiles:pond_input_data.maxFiles(t),styleItemPanelAspectRatio:pond_input_data.styleItemPanelAspectRatio(t),credits:!1});t.hasAttribute("data-placeholder")&&e.setOptions({labelIdle:t.getAttribute("data-placeholder")}),"undefined"!=typeof LOCALE_FILEPOND&&e.setOptions(LOCALE_FILEPOND),t.pond=e}),document.querySelectorAll('textarea[class*="wysiwyg"]').forEach(e=>{e.classList.add("hidden");const a=document.createElement("div"),t=document.createElement("div");t.innerHTML=e.value,a.classList.add("wysiwyg"),a.appendChild(t),e.after(a);let s=Quill.import("ui/icons");s.expand='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="maximize feather feather-maximize align-middle"><path d="M8 3H5a2 2 0 00-2 2v3m18 0V5a2 2 0 00-2-2h-3m0 18h3a2 2 0 002-2v-3M3 16v3a2 2 0 002 2h3"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="minimize feather feather-minimize align-middle"><path d="M8 3v3a2 2 0 01-2 2H3m18 0h-3a2 2 0 01-2-2V3m0 18v-3a2 2 0 012-2h3M3 16h3a2 2 0 012 2v3"/></svg>';const i=new Quill(t,{modules:{toolbar:{container:[[{header:[!1,3,2]}],["bold","italic","underline","strike"],[{align:[]},{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],["link","image","video","blockquote","code"],[{indent:"-1"},{indent:"+1"}],[{script:"sub"},{script:"super"}],["clean"],["expand"]],handlers:{image:t=>{{const a=document.createElement("input");a.setAttribute("type","file"),a.setAttribute("accept","image/*"),a.click(),a.onchange=()=>{var e=a.files[0];if(e){let t=new FormData;t.append("file",e),t.append(SETTING.csrf.key,SETTING.csrf.token),i.enable(!1),fetch(BASE_URL+"/upload/",{method:"POST",body:t}).then(t=>t.text()).then(t=>{var e=i.getSelection().index,t=BASE_URL+"/"+t;i.insertEmbed(e,"image",t),i.setSelection(e+1)}).catch(t=>{SETTING.toast("error",t)}).finally(()=>{i.enable(!0)})}}}},expand:t=>{const e=a.querySelector(".ql-expand");a.classList.contains("fullscreen")?(a.classList.remove("fullscreen"),e&&e.classList.remove("active")):(a.classList.add("fullscreen"),e&&e.classList.add("active"))}}}},placeholder:e.placeholder,readOnly:!!e.disabled,theme:"snow"}),r=(i.on("editor-change",t=>{e.value=i.root.innerHTML}),Quill.import("formats/image"));r.className="image-fluid",Quill.register(r,!0),e.quill=i}),{addable:a=>!!a.hasAttribute("data-addable")&&(t=>{let e=t;return e=("tag"===a.getAttribute("data-addable")?t.replaceAll(/[^\p{L}\d ]+/giu,""):t).replaceAll(/[\s]+/g," ").trim()}),allowDeselect:t=>!!t.querySelector("option[data-placeholder]"),deselectLabel:t=>'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-sm"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>',hideSelectedOption:t=>!!t.multiple,closeOnSelect:t=>!t.multiple,showSearch:t=>!!(10<t.querySelectorAll("option").length||t.hasAttribute("data-addable")),placeholder:t=>t.hasAttribute("data-placeholder")?t.getAttribute("data-placeholder"):null,searchPlaceholder:t=>t.hasAttribute("data-placeholder-search")?t.getAttribute("data-placeholder-search"):null,searchText:t=>t.hasAttribute("data-placeholder-search-text")?t.getAttribute("data-placeholder-search-text"):null}),makeSortable=(document.querySelectorAll("select").forEach(t=>{if(t.hasAttribute("data-native"))return!1;new SlimSelect({select:t,addable:slimselect_data.addable(t),allowDeselect:slimselect_data.allowDeselect(t),deselectLabel:slimselect_data.deselectLabel(t),closeOnSelect:slimselect_data.closeOnSelect(t),showSearch:slimselect_data.showSearch(t),placeholder:slimselect_data.placeholder(t),placeholderText:slimselect_data.placeholder(t),searchPlaceholder:slimselect_data.searchPlaceholder(t),searchText:slimselect_data.searchText(t),showContent:"down"})}),function(e){return new Sortable(e,{multiDrag:!!e.hasAttribute("data-multi"),group:!!e.hasAttribute("data-multi")&&e.getAttribute("data-multi"),handle:!!e.hasAttribute("data-handle")&&e.getAttribute("data-handle"),filter:e.hasAttribute("data-disabled")?e.getAttribute("data-disabled"):".sortable__disabled",ghostClass:e.hasAttribute("data-ghost")?e.getAttribute("data-ghost"):"sortable__ghost",fallbackOnBody:!1,swapThreshold:.5,animation:150,onEnd:t=>{e.onEnd&&e.onEnd instanceof Function&&e.onEnd(),e.hasAttribute("data-callback")&&window[e.getAttribute("data-callback")]&&window[e.getAttribute("data-callback")](t)}})});document.querySelectorAll('[class*="sortable"]').forEach(t=>{var e;t.classList.contains("sortable")&&(e=makeSortable(t),t.sortable=e)});