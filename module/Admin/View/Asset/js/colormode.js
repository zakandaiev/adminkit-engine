"use strict";

var COLORMODE = {
  storage_key: 'colormode_admin',
  attribute_key: 'data-colormode',
  value: 'dark'
};

function setColorMode(dark) {
  if (dark) {
    document.body.setAttribute(COLORMODE.attribute_key, COLORMODE.value);
    localStorage.setItem(COLORMODE.storage_key, COLORMODE.value);
  } else {
    document.body.removeAttribute(COLORMODE.attribute_key);
    localStorage.removeItem(COLORMODE.storage_key);
  }

  return true;
}

if (window.matchMedia && localStorage.getItem(COLORMODE.storage_key) === null) {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches ? true : false;
  setColorMode(isDarkMode);
  window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function (event) {
    var isDarkMode = event.matches ? true : false;
    setColorMode(isDarkMode);
  });
} else {
  var _isDarkMode = localStorage.getItem(COLORMODE.storage_key) === COLORMODE.value ? true : false;

  setColorMode(_isDarkMode);
}

document.addEventListener('click', function (event) {
  if (!event.target.closest('.colormode')) {
    return false;
  }

  event.preventDefault();
  var isDarkMode = localStorage.getItem(COLORMODE.storage_key) === COLORMODE.value ? true : false;
  setColorMode(!isDarkMode);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbG9ybW9kZS5qcyJdLCJuYW1lcyI6WyJDT0xPUk1PREUiLCJzdG9yYWdlX2tleSIsImF0dHJpYnV0ZV9rZXkiLCJ2YWx1ZSIsInNldENvbG9yTW9kZSIsImRhcmsiLCJkb2N1bWVudCIsImJvZHkiLCJzZXRBdHRyaWJ1dGUiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwicmVtb3ZlQXR0cmlidXRlIiwicmVtb3ZlSXRlbSIsIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJnZXRJdGVtIiwiaXNEYXJrTW9kZSIsIm1hdGNoZXMiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJ0YXJnZXQiLCJjbG9zZXN0IiwicHJldmVudERlZmF1bHQiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsU0FBUyxHQUFHO0FBQ2pCQyxFQUFBQSxXQUFXLEVBQUUsaUJBREk7QUFFakJDLEVBQUFBLGFBQWEsRUFBRSxnQkFGRTtBQUdqQkMsRUFBQUEsS0FBSyxFQUFFO0FBSFUsQ0FBbEI7O0FBTUEsU0FBU0MsWUFBVCxDQUFzQkMsSUFBdEIsRUFBNEI7QUFDM0IsTUFBR0EsSUFBSCxFQUFTO0FBQ1JDLElBQUFBLFFBQVEsQ0FBQ0MsSUFBVCxDQUFjQyxZQUFkLENBQTJCUixTQUFTLENBQUNFLGFBQXJDLEVBQW9ERixTQUFTLENBQUNHLEtBQTlEO0FBQ0FNLElBQUFBLFlBQVksQ0FBQ0MsT0FBYixDQUFxQlYsU0FBUyxDQUFDQyxXQUEvQixFQUE0Q0QsU0FBUyxDQUFDRyxLQUF0RDtBQUNBLEdBSEQsTUFHTztBQUNORyxJQUFBQSxRQUFRLENBQUNDLElBQVQsQ0FBY0ksZUFBZCxDQUE4QlgsU0FBUyxDQUFDRSxhQUF4QztBQUNBTyxJQUFBQSxZQUFZLENBQUNHLFVBQWIsQ0FBd0JaLFNBQVMsQ0FBQ0MsV0FBbEM7QUFDQTs7QUFFRCxTQUFPLElBQVA7QUFDQTs7QUFFRCxJQUFHWSxNQUFNLENBQUNDLFVBQVAsSUFBcUJMLFlBQVksQ0FBQ00sT0FBYixDQUFxQmYsU0FBUyxDQUFDQyxXQUEvQixNQUFnRCxJQUF4RSxFQUE4RTtBQUM3RSxNQUFNZSxVQUFVLEdBQUdILE1BQU0sQ0FBQ0MsVUFBUCxDQUFrQiw4QkFBbEIsRUFBa0RHLE9BQWxELEdBQTRELElBQTVELEdBQW1FLEtBQXRGO0FBQ0FiLEVBQUFBLFlBQVksQ0FBQ1ksVUFBRCxDQUFaO0FBRUFILEVBQUFBLE1BQU0sQ0FBQ0MsVUFBUCxDQUFrQiw4QkFBbEIsRUFBa0RJLGdCQUFsRCxDQUFtRSxRQUFuRSxFQUE2RSxVQUFBQyxLQUFLLEVBQUk7QUFDckYsUUFBTUgsVUFBVSxHQUFHRyxLQUFLLENBQUNGLE9BQU4sR0FBZ0IsSUFBaEIsR0FBdUIsS0FBMUM7QUFDQWIsSUFBQUEsWUFBWSxDQUFDWSxVQUFELENBQVo7QUFDQSxHQUhEO0FBSUEsQ0FSRCxNQVFPO0FBQ04sTUFBTUEsV0FBVSxHQUFJUCxZQUFZLENBQUNNLE9BQWIsQ0FBcUJmLFNBQVMsQ0FBQ0MsV0FBL0IsTUFBZ0RELFNBQVMsQ0FBQ0csS0FBM0QsR0FBb0UsSUFBcEUsR0FBMkUsS0FBOUY7O0FBQ0FDLEVBQUFBLFlBQVksQ0FBQ1ksV0FBRCxDQUFaO0FBQ0E7O0FBRURWLFFBQVEsQ0FBQ1ksZ0JBQVQsQ0FBMEIsT0FBMUIsRUFBbUMsVUFBQUMsS0FBSyxFQUFJO0FBQzNDLE1BQUcsQ0FBQ0EsS0FBSyxDQUFDQyxNQUFOLENBQWFDLE9BQWIsQ0FBcUIsWUFBckIsQ0FBSixFQUF3QztBQUN2QyxXQUFPLEtBQVA7QUFDQTs7QUFFREYsRUFBQUEsS0FBSyxDQUFDRyxjQUFOO0FBRUEsTUFBTU4sVUFBVSxHQUFJUCxZQUFZLENBQUNNLE9BQWIsQ0FBcUJmLFNBQVMsQ0FBQ0MsV0FBL0IsTUFBZ0RELFNBQVMsQ0FBQ0csS0FBM0QsR0FBb0UsSUFBcEUsR0FBMkUsS0FBOUY7QUFDQUMsRUFBQUEsWUFBWSxDQUFDLENBQUNZLFVBQUYsQ0FBWjtBQUNBLENBVEQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBDT0xPUk1PREUgPSB7XHJcblx0c3RvcmFnZV9rZXk6ICdjb2xvcm1vZGVfYWRtaW4nLFxyXG5cdGF0dHJpYnV0ZV9rZXk6ICdkYXRhLWNvbG9ybW9kZScsXHJcblx0dmFsdWU6ICdkYXJrJ1xyXG59O1xyXG5cclxuZnVuY3Rpb24gc2V0Q29sb3JNb2RlKGRhcmspIHtcclxuXHRpZihkYXJrKSB7XHJcblx0XHRkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZShDT0xPUk1PREUuYXR0cmlidXRlX2tleSwgQ09MT1JNT0RFLnZhbHVlKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKENPTE9STU9ERS5zdG9yYWdlX2tleSwgQ09MT1JNT0RFLnZhbHVlKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoQ09MT1JNT0RFLmF0dHJpYnV0ZV9rZXkpO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oQ09MT1JNT0RFLnN0b3JhZ2Vfa2V5KTtcclxuXHR9XHJcblxyXG5cdHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5pZih3aW5kb3cubWF0Y2hNZWRpYSAmJiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShDT0xPUk1PREUuc3RvcmFnZV9rZXkpID09PSBudWxsKSB7XHJcblx0Y29uc3QgaXNEYXJrTW9kZSA9IHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykubWF0Y2hlcyA/IHRydWUgOiBmYWxzZTtcclxuXHRzZXRDb2xvck1vZGUoaXNEYXJrTW9kZSk7XHJcblxyXG5cdHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZXZlbnQgPT4ge1xyXG5cdFx0Y29uc3QgaXNEYXJrTW9kZSA9IGV2ZW50Lm1hdGNoZXMgPyB0cnVlIDogZmFsc2U7XHJcblx0XHRzZXRDb2xvck1vZGUoaXNEYXJrTW9kZSk7XHJcblx0fSk7XHJcbn0gZWxzZSB7XHJcblx0Y29uc3QgaXNEYXJrTW9kZSA9IChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShDT0xPUk1PREUuc3RvcmFnZV9rZXkpID09PSBDT0xPUk1PREUudmFsdWUpID8gdHJ1ZSA6IGZhbHNlO1xyXG5cdHNldENvbG9yTW9kZShpc0RhcmtNb2RlKTtcclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XHJcblx0aWYoIWV2ZW50LnRhcmdldC5jbG9zZXN0KCcuY29sb3Jtb2RlJykpIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdGNvbnN0IGlzRGFya01vZGUgPSAobG9jYWxTdG9yYWdlLmdldEl0ZW0oQ09MT1JNT0RFLnN0b3JhZ2Vfa2V5KSA9PT0gQ09MT1JNT0RFLnZhbHVlKSA/IHRydWUgOiBmYWxzZTtcclxuXHRzZXRDb2xvck1vZGUoIWlzRGFya01vZGUpO1xyXG59KTtcclxuIl0sImZpbGUiOiJjb2xvcm1vZGUuanMifQ==